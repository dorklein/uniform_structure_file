{"version":3,"sources":["../src/index.ts","../src/utils/dates.ts","../src/utils/strings.ts","../src/generator/baseGenerator.ts","../src/utils/objs.ts","../src/utils/validators.ts","../src/utils/ssnValidator.ts","../src/schemas/iniSchema.ts","../src/generator/iniGenerator.ts","../src/utils/constants.ts","../src/schemas/C100Schema.ts","../src/schemas/D110Schema.ts","../src/schemas/D120Schema.ts","../src/schemas/B100Schema.ts","../src/schemas/B110Schema.ts","../src/schemas/M100Schema.ts","../src/schemas/bkmvdataSchema.ts","../src/generator/dataGenerator.ts"],"sourcesContent":["import { dateToMMDDhhmm } from './utils/dates'\nimport { IniGenerator } from './generator/iniGenerator'\nimport { DataGenerator } from './generator/dataGenerator'\nimport { customAlphabet } from 'nanoid'\nimport * as path from 'path'\nimport { UniformStructureInput } from './types'\nimport { zip } from 'zip-a-folder'\n\nfunction getDirPath(input: UniformStructureInput): string {\n  const taxIdWithoutCheckDigit = input.business.taxId.toString().slice(0, 8)\n  const shortYear = input.processStartDate.getFullYear().toString().slice(2)\n  return `OPENFRMT/${taxIdWithoutCheckDigit}.${shortYear}/${dateToMMDDhhmm(\n    input.processStartDate\n  )}`\n}\n\nexport async function generateUSF(input: UniformStructureInput) {\n  const nanoid = customAlphabet('123456789', 15)\n  const uuid = nanoid()\n\n  const dirPath = getDirPath(input)\n  const iniFilePath = path.join(dirPath, 'INI.txt')\n  const dataFilePath = path.join(dirPath, 'BKMVDATA.txt')\n\n  const dataGenerator = new DataGenerator(input, uuid, dataFilePath)\n  await dataGenerator.saveToFile()\n\n  const iniGenerator = new IniGenerator(\n    input,\n    uuid,\n    iniFilePath,\n    dataGenerator.countRowsByType()\n  )\n  await iniGenerator.saveToFile()\n\n  // zip\n  await zip('OPENFRMT', `OPENFRMT.zip`)\n}\n\n// main()\n","/**\n * Is date obj\n */\nexport function isDate(obj: unknown): obj is Date {\n  return obj instanceof Date\n}\n\n/**\n * Convert a date to a number as YYYYMMDD\n * @param date\n */\nexport function dateToYYYYMMDD(date: Date): string {\n  const dateFormatter = new Intl.DateTimeFormat('he-IL', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n  })\n  // we need to use the parts to get the correct date\n  const parts = dateFormatter.formatToParts(date)\n  return `${parts[4].value}${parts[2].value}${parts[0].value}`\n}\n\n/**\n * Convert a date to a number as HHMM\n * @param date\n */\nexport function dateToHHMM(date: Date): string {\n  const dateFormatter = new Intl.DateTimeFormat('he-IL', {\n    hour: '2-digit',\n    minute: '2-digit',\n    hour12: false,\n  })\n  const strDate = dateFormatter.format(date)\n\n  return strDate.replace(/:/g, '')\n}\n\n/**\n * Convert a date to a number as MMDDhhmm\n * @param date\n */\nexport function dateToMMDDhhmm(date: Date): string {\n  const dateFormatter = new Intl.DateTimeFormat('en-US', {\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit',\n    hour12: false,\n  })\n  const strDate = dateFormatter.format(date)\n\n  return strDate.replace(/[\\/:, ]/g, '')\n}\n","import { CellType } from '../types'\nimport { dateToHHMM, dateToYYYYMMDD, isDate } from './dates'\n\n/**\n * Is string guard\n */\nexport function isString(obj: unknown): obj is string {\n  return typeof obj === 'string' || obj instanceof String\n}\n\nexport const padNumbers = (\n  number: number | string,\n  length: number,\n  decimalPlaces: number\n): string => {\n  try {\n    const str = (+number).toFixed(decimalPlaces).replace('.', '')\n    return str.padStart(length, '0')\n  } catch (e) {\n    console.log(number, typeof number, e)\n    throw new Error(`Invalid number ${number}`)\n  }\n}\n\nexport const padString = (str: string, length: number): string => {\n  return str.padEnd(length, ' ')\n}\n\nfunction padEmptyByType(type: CellType, length: number, decimalPlaces: number) {\n  switch (type) {\n    case 'date':\n    case 'time':\n    case 'number':\n      return padNumbers(0, length, decimalPlaces)\n    case 'string':\n      return padString('', length)\n    case 'boolean':\n      return '0'\n    case 'positive':\n    case 'negative':\n      return `+${padNumbers(0, length - 1, decimalPlaces)}`\n    default:\n      throw new Error(`Invalid type ${type}`)\n  }\n}\nexport const padByType = (\n  type: CellType,\n  value: string | number | Date | null,\n  length: number,\n  decimalPlaces: number = 0\n): string => {\n  if (value === null) {\n    return padEmptyByType(type, length, decimalPlaces)\n  }\n\n  // When negative os 0, should have a + sign instead of a - sign\n  if (type === 'negative' && value === '0') {\n    return padEmptyByType(type, length, decimalPlaces)\n  }\n\n  switch (type) {\n    case 'date':\n      if (!isDate(value)) throw new Error(`Invalid date value ${value}`)\n      return dateToYYYYMMDD(value)\n    case 'time':\n      if (!isDate(value)) throw new Error(`Invalid time value ${value}`)\n      return dateToHHMM(value)\n    case 'string':\n      return padString(value as string, length)\n    case 'number':\n      return padNumbers(value as number, length, decimalPlaces)\n    case 'boolean':\n      value = parseInt(`${value}`)\n      if (value !== 1 && value !== 0) value = 0\n      return padString(`${value}`, length)\n    case 'positive':\n      return `+${padNumbers(value as number, length - 1, decimalPlaces)}`\n    case 'negative':\n      return `-${padNumbers(value as number, length - 1, decimalPlaces)}`\n    default:\n      throw new Error(`Invalid type ${type}`)\n  }\n}\n","import {\n  Cell,\n  Dictionary,\n  FileEncoding,\n  Row,\n  UniformStructureInput,\n} from '../types'\nimport { isString, padByType } from '../utils/strings'\nimport fs from 'fs/promises'\nimport * as path from 'path'\nimport * as iconv from 'iconv-lite'\n\nexport abstract class BaseGenerator {\n  #input: UniformStructureInput\n  #uuid: string\n  #filePath: string\n  #text: string\n  #lines: string[]\n  static readonly NEW_LINE = '\\n'\n  protected customComputedValues: Dictionary<number | string> = {}\n\n  protected constructor(\n    input: UniformStructureInput,\n    uuid: string,\n    filePath: string\n  ) {\n    this.#input = input\n    this.#uuid = uuid\n    this.#filePath = filePath\n    this.#lines = []\n    this.#text = ''\n  }\n\n  protected get input(): UniformStructureInput {\n    return this.#input\n  }\n\n  protected get uuid(): string {\n    return this.#uuid\n  }\n  protected get lines(): string[] {\n    return this.#lines\n  }\n  protected get runningNumber(): number {\n    return this.#lines.length + 1\n  }\n\n  protected computedValues<T = unknown>(\n    cell: Cell<T>\n  ): number | string | undefined {\n    switch (cell.name) {\n      case 'uuid':\n        return +this.uuid\n      case 'runningNumber':\n      case 'totalRecords':\n        return this.runningNumber\n      default:\n        if (cell.name in this.customComputedValues) {\n          return this.customComputedValues[cell.name]\n        }\n        return undefined\n    }\n  }\n\n  protected abstract create(): void\n  protected abstract validateBeforeSave(): void\n\n  protected createRow<T = undefined>(\n    rowSchema: Row<T>,\n    getValue: (cell: Cell<T>) => string | number | Date | undefined,\n    item: T\n  ): void {\n    let text = ''\n\n    for (const cell of rowSchema.cells) {\n      let cellText = ''\n      const value = getValue(cell)\n\n      // validate value\n      if (cell.validator !== undefined) {\n        const valid = cell.validator(value, item)\n        if (!valid || isString(valid)) {\n          throw new Error(\n            `Invalid value for [${cell.fieldId}:${cell.name}] ${\n              isString(valid) ? valid : ''\n            }`\n          )\n        }\n      }\n\n      if (value === undefined) {\n        // Check if required is a function\n        let required = cell.required\n        if (typeof cell.required === 'function')\n          required = cell.required(this.input, item)\n\n        // Positive or Negative types have auto default value, even when required.\n        if (required && !['positive', 'negative'].includes(cell.type)) {\n          throw new Error(\n            isString(required)\n              ? required\n              : `Required field [${cell.fieldId}]'${cell.name}' has no default value`\n          )\n        }\n\n        cellText = padByType(cell.type, null, cell.length)\n      } else {\n        // Check if the value given isn't longer than the supported length\n        if (\n          !['date', 'time'].includes(cell.type) &&\n          (+value).toFixed(cell.decimalPlaces ?? 0).length > cell.length\n        )\n          throw new Error(\n            `Value for [${cell.fieldId}:${cell.name}] ${value} is longer than ${cell.length}`\n          )\n        try {\n          cellText = padByType(\n            cell.type,\n            value as number | string,\n            cell.length,\n            cell.decimalPlaces\n          )\n        } catch (e) {\n          throw new Error(\n            `Error while padding value for ${JSON.stringify(\n              cell\n            )} - ${value} - ${e}`\n          )\n        }\n      }\n\n      // Validate length\n      if (cellText.length !== cell.length) {\n        throw new Error(\n          `Value for [${cell.fieldId}:${cell.name}] ${cellText} should be of length ${cell.length}. Got ${cellText.length}`\n        )\n      }\n\n      text += cellText\n    }\n\n    this.#lines.push(text)\n  }\n\n  private get encoding(): string {\n    if (this.input.encoding === FileEncoding.CP_862) {\n      return 'CP862'\n    }\n    return 'ISO-8859-8'\n  }\n\n  public async saveToFile() {\n    this.create()\n    this.validateBeforeSave()\n\n    const text = this.#lines.join(BaseGenerator.NEW_LINE)\n\n    await fs.mkdir(path.parse(this.#filePath).dir, { recursive: true })\n\n    const buf = iconv.encode(text, this.encoding)\n    await fs.writeFile(this.#filePath, buf)\n  }\n}\n","// Declare a flatten function that takes\n// object as parameter and returns the\n// flatten object\n\n// Guards\nimport { Dictionary } from '../types'\n\nexport const isObject = (obj: unknown): obj is Dictionary => {\n  return typeof obj === 'object' && obj !== null && !Array.isArray(obj)\n}\nexport const flattenObj = (ob: Dictionary): Dictionary => {\n  // The object which contains the\n  // final result\n  let result: Dictionary = {}\n\n  // loop through the object \"ob\"\n  for (const i in ob) {\n    // We check the type of the i using\n    // typeof() function and recursively\n    // call the function again\n    const subObj = ob[i]\n    if (isObject(subObj)) {\n      // if ((typeof subObj) === 'object' && !Array.isArray(subObj)) {\n      const temp = flattenObj(subObj)\n      for (const j in temp) {\n        // Store temp in result\n        result[`${i}.${j}`] = temp[j]\n      }\n    }\n\n    // Else store ob[i] in result directly\n    else {\n      result[i] = ob[i]\n    }\n  }\n  return result\n}\n\nexport function getNestedValue(obj: any, key: string) {\n  if (!isObject(obj)) return obj\n\n  const keys = key.split('.')\n  let value = obj\n  for (const key of keys) {\n    const newValue = value[key]\n    if (!isObject(newValue)) return newValue\n\n    value = newValue\n  }\n  return value\n}\n","import { isDate } from 'util/types'\nimport { ssnValidator } from './ssnValidator'\nimport { isString } from './strings'\nimport cc from 'currency-codes'\n\ntype ValidatorValue = string | number | Date | undefined\n\nexport function isValidDate(value: ValidatorValue) {\n  if (!value) return `Date ${value} is invalid`\n  if (!isDate(value)) return `Date ${value} is invalid`\n\n  const today = new Date()\n\n  return value.getTime() <= today.getTime() || `Date ${value} is in the future`\n}\n\nexport function isOptionalValidDate(value: ValidatorValue) {\n  if (!value) return true // not required\n  return isValidDate(value)\n}\n\nexport function isValidSSN(value: ValidatorValue) {\n  if (!value) return `SSN ${value} is invalid`\n  if (isDate(value)) return `SSN ${value} is invalid`\n\n  return ssnValidator(value) || `SSN ${value} check digit is invalid`\n}\n\nexport function isValidCurrencyCode(value: ValidatorValue) {\n  if (!isString(value)) return `Currency code ${value} is invalid`\n\n  return !!cc.code('EUR') || `Currency code ${value} is invalid`\n}\nexport function isOptionalValidCurrencyCode(value: ValidatorValue) {\n  if (!value) return true // not required\n  return isValidCurrencyCode(value)\n}\n","export function ssnValidator(id: string | number) {\n  id = id.toString().padStart(9, '0')\n  if (isNaN(+id)) {\n    return false\n  }\n  let sum = 0,\n    incNum\n  for (let i = 0; i < id.length; i++) {\n    incNum = +id[i] * ((i % 2) + 1) // Multiply number by 1 or 2\n    sum += incNum > 9 ? incNum - 9 : incNum // Sum the digits up and add to total\n  }\n  return sum % 10 === 0\n}\n\nexport function getCheckDigit(id: string | number): number {\n  id = id.toString().padStart(8, '0')\n  if (isNaN(+id)) {\n    // Make sure ID is formatted properly\n    throw new Error('Invalid ID')\n  }\n  let sum = 0,\n    incNum\n  for (let i = 0; i < id.length; i++) {\n    incNum = +id[i] * ((i % 2) + 1) // Multiply number by 1 or 2\n    sum += incNum > 9 ? incNum - 9 : incNum // Sum the digits up and add to total\n  }\n  const checkDigit = 10 - (sum % 10)\n  return checkDigit > 9 ? 0 : checkDigit\n}\n","import { INISchema, Row, SoftwareType } from '../types'\nimport {\n  isOptionalValidDate,\n  isValidDate,\n  isValidSSN,\n} from '../utils/validators'\n\nconst header: Row = {\n  cells: [\n    {\n      fieldId: 1000,\n      name: 'recordCode',\n      description: 'קוד רשומה',\n      type: 'string',\n      length: 4,\n      startAt: 1,\n      endAt: 4,\n      required: true,\n      default: 'A000',\n    },\n    {\n      fieldId: 1001,\n      name: 'forFutureData',\n      description: 'לשימוש עתידי',\n      type: 'string',\n      length: 5,\n      startAt: 5,\n      endAt: 9,\n      required: false,\n    },\n    {\n      fieldId: 1002,\n      name: 'numberOfRowsInBKMVDATA',\n      description: 'סך רשומות בקובץ BKMVDATA',\n      type: 'number',\n      length: 15,\n      startAt: 10,\n      endAt: 24,\n      required: true,\n    },\n    {\n      fieldId: 1003,\n      name: 'business.taxId',\n      description: 'מספר עוסק מורשה',\n      type: 'number',\n      length: 9,\n      startAt: 25,\n      endAt: 33,\n      required: true,\n      validator: isValidSSN,\n    },\n    {\n      fieldId: 1004,\n      name: 'uuid',\n      description: 'מזהה ראשי',\n      type: 'number',\n      length: 15,\n      startAt: 34,\n      endAt: 48,\n      required: true,\n    },\n    {\n      fieldId: 1005,\n      name: 'systemConstant',\n      description: 'קבוע מערכת',\n      type: 'string',\n      length: 8,\n      startAt: 49,\n      endAt: 56,\n      required: true,\n      default: '&OF1.31&',\n    },\n    {\n      fieldId: 1006,\n      name: 'software.registrationNumber',\n      description: 'מספר רישום התוכנה',\n      type: 'number',\n      length: 8,\n      startAt: 57,\n      endAt: 64,\n      required: true,\n    },\n    {\n      fieldId: 1007,\n      name: 'software.name',\n      description: 'שם התוכנה',\n      type: 'string',\n      length: 20,\n      startAt: 65,\n      endAt: 84,\n      required: true,\n    },\n    {\n      fieldId: 1008,\n      name: 'software.version',\n      description: 'מהדורת התוכנה',\n      type: 'string',\n      length: 20,\n      startAt: 85,\n      endAt: 104,\n      required: true,\n    },\n    {\n      fieldId: 1009,\n      name: 'software.companyTaxId',\n      description: 'מספר ע\"מ של יצרן התוכנה',\n      type: 'number',\n      length: 9,\n      startAt: 105,\n      endAt: 113,\n      required: true,\n      validator: isValidSSN,\n    },\n    {\n      fieldId: 1010,\n      name: 'software.companyName',\n      description: 'שם יצרן התוכנה',\n      type: 'string',\n      length: 20,\n      startAt: 114,\n      endAt: 133,\n      required: true,\n    },\n    {\n      fieldId: 1011,\n      name: 'software.type',\n      description: 'סוג התוכנה',\n      type: 'number', // 1= חד שנתי, 2 = רב שנתי\n      length: 1,\n      startAt: 134,\n      endAt: 134,\n      required: true,\n    },\n    {\n      fieldId: 1012,\n      name: 'dirPath',\n      description: 'נתיב מיקום שמירת הקבצים',\n      type: 'string',\n      length: 50,\n      startAt: 135,\n      endAt: 184,\n      required: true,\n    },\n    {\n      fieldId: 1013,\n      name: 'software.accountingType',\n      description: 'סוג הנהח\"ש של התוכנה',\n      type: 'number', // 0=לא רלוונטי, 1=חד צידית, 2=כפולה.\n      length: 1,\n      startAt: 185,\n      endAt: 185,\n      required: true,\n    },\n    {\n      fieldId: 1014,\n      name: 'requiredAccountingBalance',\n      description: 'איזון חשבונאי נדרש',\n      type: 'number', // 1=רמת התנועה, 2=רמת המנה. בהנהלת חשבונות כפולה חובה\n      length: 1,\n      startAt: 186,\n      endAt: 186,\n      required: false,\n      default: 1,\n    },\n    {\n      fieldId: 1015,\n      name: 'business.companyId',\n      description: 'מספר חברה ברשם החברות',\n      type: 'number',\n      length: 9,\n      startAt: 187,\n      endAt: 195,\n      required: false,\n      validator: isValidSSN,\n    },\n    {\n      fieldId: 1016,\n      name: 'DeductionFileID',\n      description: 'מספר תיק ניכויים',\n      type: 'number',\n      length: 9,\n      startAt: 196,\n      endAt: 204,\n      required: false,\n    },\n    {\n      fieldId: 1017,\n      name: 'forFutureData',\n      description: 'שטח נתונים עתידי',\n      type: 'string',\n      length: 10,\n      startAt: 205,\n      endAt: 214,\n      required: false,\n    },\n    {\n      fieldId: 1018,\n      name: 'business.name',\n      description: 'שם העסק',\n      type: 'string',\n      length: 50,\n      startAt: 215,\n      endAt: 264,\n      required: true,\n    },\n    {\n      fieldId: 1019,\n      name: 'business.address.street',\n      description: 'מען העסק - רחוב',\n      type: 'string',\n      length: 50,\n      startAt: 265,\n      endAt: 314,\n      required: false,\n    },\n    {\n      fieldId: 1020,\n      name: 'business.address.houseNumber',\n      description: 'מען העסק - מס בית',\n      type: 'string',\n      length: 10,\n      startAt: 315,\n      endAt: 324,\n      required: false,\n    },\n    {\n      fieldId: 1021,\n      name: 'business.address.city',\n      description: 'מען העסק - עיר',\n      type: 'string',\n      length: 30,\n      startAt: 325,\n      endAt: 354,\n      required: false,\n    },\n    {\n      fieldId: 1022,\n      name: 'business.address.zipCode',\n      description: 'מען העסק - מיקוד',\n      type: 'string',\n      length: 8,\n      startAt: 355,\n      endAt: 362,\n      required: false,\n    },\n    {\n      fieldId: 1023,\n      name: 'taxYear',\n      description: 'שנת המס',\n      type: 'number',\n      length: 4,\n      startAt: 363,\n      endAt: 366,\n      required: (input) =>\n        input.software.type === SoftwareType.SINGLE_YEAR &&\n        `taxYear is required when software.type is ${SoftwareType.SINGLE_YEAR}`,\n    },\n    {\n      fieldId: 1024,\n      name: 'dataRangeStartDate',\n      description: 'טווח נתונים - תאריך התחלה/חיתוך',\n      type: 'date',\n      length: 8,\n      startAt: 367,\n      endAt: 374,\n      required: (input) =>\n        input.software.type === SoftwareType.MULTI_YEAR &&\n        `dataRangeEndDate is required when software.type is ${SoftwareType.MULTI_YEAR}`,\n      validator: isOptionalValidDate,\n    },\n    {\n      fieldId: 1025,\n      name: 'dataRangeEndDate',\n      description: 'טווח נתונים - תאריך סיום/חיתוך',\n      type: 'date',\n      length: 8,\n      startAt: 375,\n      endAt: 382,\n      required: (input) =>\n        input.software.type === SoftwareType.MULTI_YEAR &&\n        `dataRangeEndDate is required when software.type is ${SoftwareType.MULTI_YEAR}`,\n      validator: isOptionalValidDate,\n    },\n    {\n      fieldId: 1026,\n      name: 'processStartDate',\n      description: 'תאריך תחילת התהליך',\n      type: 'date', // YYYYMMDD\n      length: 8,\n      startAt: 383,\n      endAt: 390,\n      required: true,\n      validator: isValidDate,\n    },\n    {\n      fieldId: 1027,\n      name: 'processStartTime',\n      description: 'שעת התחלת התהליך',\n      type: 'time', // HHMM\n      length: 4,\n      startAt: 391,\n      endAt: 394,\n      required: true,\n    },\n    /**\n     * 0 - עברית\n     * 1 - ערבית\n     * 2 - אחר\n     */\n    {\n      fieldId: 1028,\n      name: 'languageCode',\n      description: 'קוד שפה',\n      type: 'number', // 0 - עברית, 1 - ערבית, 2 - אחר\n      length: 1,\n      startAt: 395,\n      endAt: 395,\n      required: true,\n      default: 0,\n    },\n    /**\n     * -862CP = 2\n     * i-8859-8-ISO = 1\n     */\n    {\n      fieldId: 1029,\n      name: 'encoding',\n      description: 'סט תוים',\n      type: 'number', // -862CP = 2; i-8859-8-ISO =1\n      length: 1,\n      startAt: 396,\n      endAt: 396,\n      required: true,\n      default: 1,\n    },\n    {\n      fieldId: 1030,\n      name: 'compressionSoftware',\n      description: 'שם תוכנת הכיווץ',\n      type: 'string',\n      length: 20,\n      startAt: 397,\n      endAt: 416,\n      required: true,\n    },\n    {\n      fieldId: 1032,\n      name: 'leadingCurrency',\n      description: 'מטבע מוביל',\n      type: 'string',\n      length: 3,\n      startAt: 417,\n      endAt: 419,\n      required: true,\n      default: 'ILS',\n    },\n    /**\n     * 1 - בעסק יש סניפים /ענפים\n     * 0 - בעסק  סניפים . ראה הבהרה 3 בנספח\n     * הבהרות.\n     */\n    {\n      fieldId: 1034,\n      name: 'business.hasBranches',\n      description: 'מידע על סניפים /ענפים',\n      type: 'number',\n      length: 1,\n      startAt: 420,\n      endAt: 420,\n      required: true,\n      default: 0,\n    },\n    {\n      fieldId: 1035,\n      name: 'forFutureData',\n      description: 'שטח לנתונים עתידיים',\n      type: 'string',\n      length: 46,\n      startAt: 421,\n      endAt: 466,\n      required: false,\n    },\n  ],\n}\nconst summaryRow: Row = {\n  cells: [\n    {\n      fieldId: 1050,\n      name: 'recordCode',\n      description: 'קוד רשומה',\n      type: 'string',\n      length: 4,\n      startAt: 1,\n      endAt: 4,\n      required: true,\n    },\n    {\n      fieldId: 1051,\n      name: 'recordsCount',\n      description: 'סך רשומות',\n      type: 'number',\n      length: 15,\n      startAt: 5,\n      endAt: 19,\n      required: true,\n    },\n  ],\n}\n\nexport const iniSchema: INISchema = {\n  header,\n  summaryRow,\n}\n","import { BaseGenerator } from './baseGenerator'\nimport { BKMVDATARowsCount, Cell, UniformStructureInput } from '../types'\nimport { getNestedValue } from '../utils/objs'\nimport { iniSchema } from '../schemas/iniSchema'\nimport { padByType } from '../utils/strings'\nimport * as path from 'path'\nimport { expectedINILineLength } from '../utils/constants'\n\nexport class IniGenerator extends BaseGenerator {\n  #BKMVDATARowsCount: BKMVDATARowsCount\n\n  constructor(\n    input: UniformStructureInput,\n    uuid: string,\n    filePath: string,\n    dataRowsCount: BKMVDATARowsCount\n  ) {\n    super(input, uuid, filePath)\n\n    this.#BKMVDATARowsCount = dataRowsCount // Should be set before customComputedValues fields\n    this.customComputedValues['numberOfRowsInBKMVDATA'] =\n      this.countAllBKMVDATARows()\n    this.customComputedValues['dirPath'] = path.parse(filePath).dir\n  }\n\n  private countAllBKMVDATARows(): number {\n    return (\n      Object.values(this.#BKMVDATARowsCount).reduce(\n        (partialSum, a) => partialSum + a,\n        0\n      ) + 2\n    )\n  }\n\n  private validateHeader(): void {\n    // recordCode\n    const recordCode = 'A000'\n    const line = this.lines[0]\n    if (!line.startsWith(recordCode)) {\n      throw new Error(`INI.txt first line should start with ${recordCode}`)\n    }\n  }\n\n  private validateLength(): void {\n    for (const line of this.lines) {\n      const recordCode = line.substring(0, 4)\n      const actualLength = line.length\n\n      const expectedLength = expectedINILineLength[recordCode]\n      if (actualLength !== expectedLength) {\n        throw new Error(\n          `INI.txt ${recordCode} line length should be ${expectedLength}. Actual ${line.length}`\n        )\n      }\n    }\n  }\n\n  protected validateBeforeSave(): void {\n    // Validate header\n    this.validateHeader()\n\n    // Validate line length\n    this.validateLength()\n  }\n\n  createINIHeader(): void {\n    const getValue = (cell: Cell) => {\n      return (\n        this.computedValues(cell) ??\n        getNestedValue(this.input, cell.name) ??\n        cell.default\n      )\n    }\n\n    this.createRow(iniSchema.header, getValue, undefined)\n  }\n\n  createINIBody(): void {\n    for (const [recordCode, sum] of Object.entries<number>(\n      this.#BKMVDATARowsCount\n    )) {\n      let line = recordCode\n\n      const countCellSchema = iniSchema.summaryRow.cells[1]\n      line += padByType(countCellSchema.type, sum, countCellSchema.length)\n\n      this.lines.push(line)\n    }\n  }\n\n  protected create() {\n    this.createINIHeader()\n    this.createINIBody()\n  }\n}\n","import { Dictionary } from '../types'\n\nexport const expectedINILineLength: Dictionary<number> = {\n  A000: 466,\n  B100: 19,\n  B110: 19,\n  C100: 19,\n  D110: 19,\n  D120: 19,\n  M100: 19,\n}\n\nexport const expectedDATALineLength: Dictionary<number> = {\n  A100: 95,\n  B100: 317,\n  B110: 376,\n  C100: 444,\n  D110: 339,\n  D120: 222,\n  M100: 298,\n  Z900: 110,\n}\nexport const expectedLineLength = {\n  'INI.TXT': expectedINILineLength,\n  'BKMVDATA.TXT': expectedDATALineLength,\n}\n","import { DocumentRecord, Row } from '../types'\nimport { isOptionalValidCurrencyCode, isValidDate } from '../utils/validators'\n\nexport const C100Schema: Row<DocumentRecord> = {\n  cells: [\n    {\n      fieldId: 1200,\n      name: 'recordCode',\n      description: 'קוד רשומה',\n      type: 'string',\n      length: 4,\n      startAt: 1,\n      endAt: 4,\n      required: true,\n      default: 'C100',\n    },\n    {\n      fieldId: 1201,\n      name: 'runningNumber',\n      description: 'מס רשומה בקובץ',\n      type: 'number',\n      length: 9,\n      startAt: 5,\n      endAt: 13,\n      required: true,\n    },\n    {\n      fieldId: 1202,\n      name: 'business.taxId',\n      description: 'מספר עוסק מורשה',\n      type: 'number',\n      length: 9,\n      startAt: 14,\n      endAt: 22,\n      required: true,\n    },\n    {\n      fieldId: 1203,\n      name: 'documentType',\n      description: 'סוג מסמך',\n      type: 'number',\n      length: 3,\n      startAt: 23,\n      endAt: 25,\n      required: true,\n    },\n    {\n      fieldId: 1204,\n      name: 'documentNumber',\n      description: 'מספר מסמך',\n      type: 'string',\n      length: 20,\n      startAt: 26,\n      endAt: 45,\n      required: true,\n    },\n    {\n      fieldId: 1205,\n      name: 'documentCreationDate',\n      description: 'תאריך הפקת מסמך',\n      type: 'date',\n      length: 8,\n      startAt: 46,\n      endAt: 53,\n      required: true,\n      validator: isValidDate,\n    },\n    {\n      fieldId: 1206,\n      name: 'documentCreationTime',\n      description: 'שעת הפקת מסמך',\n      type: 'time',\n      length: 4,\n      startAt: 54,\n      endAt: 57,\n      required: true,\n    },\n    {\n      fieldId: 1207,\n      name: 'customerOrVendor.name',\n      description: 'שם לקוח/ספק',\n      type: 'string',\n      length: 50,\n      startAt: 58,\n      endAt: 107,\n      required: (input, item) => {\n        return item.documentType >= 100 && item.documentType <= 710\n      },\n    },\n    {\n      fieldId: 1208,\n      name: 'customerOrVendor.address.street',\n      description: 'מען הלקוח/ספק - רחוב',\n      type: 'string',\n      length: 50,\n      startAt: 108,\n      endAt: 157,\n      required: false,\n    },\n    {\n      fieldId: 1209,\n      name: 'customerOrVendor.address.houseNumber',\n      description: 'מען הלקוח/ספק - מס בית',\n      type: 'string',\n      length: 10,\n      startAt: 158,\n      endAt: 167,\n      required: false,\n    },\n    {\n      fieldId: 1210,\n      name: 'customerOrVendor.address.city',\n      description: 'מען הלקוח/ספק - עיר',\n      type: 'string',\n      length: 30,\n      startAt: 168,\n      endAt: 197,\n      required: false,\n    },\n    {\n      fieldId: 1211,\n      name: 'customerOrVendor.address.zipCode',\n      description: 'מען הלקוח/ספק - מיקוד',\n      type: 'string',\n      length: 8,\n      startAt: 198,\n      endAt: 205,\n      required: false,\n    },\n    {\n      fieldId: 1212,\n      name: 'customerOrVendor.address.country',\n      description: 'מען הלקוח/ספק - מדינה',\n      type: 'string',\n      length: 30,\n      startAt: 206,\n      endAt: 235,\n      required: false,\n    },\n    {\n      fieldId: 1213,\n      name: 'customerOrVendor.address.countryCode',\n      description: 'מען הלקוח/ספק - קוד מדינה',\n      type: 'string',\n      length: 2,\n      startAt: 236,\n      endAt: 237,\n      required: false,\n    },\n    {\n      fieldId: 1214,\n      name: 'customerOrVendor.phone',\n      description: 'טלפון לקוח/ספק',\n      type: 'string',\n      length: 15,\n      startAt: 238,\n      endAt: 252,\n      required: false,\n    },\n    {\n      fieldId: 1215,\n      name: 'customerOrVendor.taxId',\n      description: 'מס עוסק מורשה לקוח/ספק',\n      type: 'number',\n      length: 9,\n      startAt: 253,\n      endAt: 261,\n      required: false,\n    },\n    {\n      fieldId: 1216,\n      name: 'valueDate',\n      description: 'תאריך ערך',\n      type: 'date',\n      length: 8,\n      startAt: 262,\n      endAt: 269,\n      required: true,\n      validator: isValidDate,\n    },\n    {\n      fieldId: 1217,\n      name: 'finalSumInForeignCurrency',\n      description: 'סכום סופי של המסמך במט\"ח',\n      type: 'positive',\n      length: 15,\n      startAt: 270,\n      endAt: 284,\n      decimalPlaces: 2,\n      required: false,\n    },\n    {\n      fieldId: 1218,\n      name: 'currencyCode',\n      description: 'קוד מט\"ח',\n      type: 'string',\n      length: 3,\n      startAt: 285,\n      endAt: 287,\n      required: false,\n      validator: isOptionalValidCurrencyCode,\n    },\n    {\n      fieldId: 1219,\n      name: 'documentSumBeforeDiscount',\n      description: 'סכום המסמך לפני הנחת מסמך',\n      type: 'positive',\n      length: 15,\n      startAt: 288,\n      endAt: 302,\n      decimalPlaces: 2,\n      required: true,\n      validator: (value, item) => {\n        if (!value) return false\n\n        const expected = item.items.reduce(\n          (acc, item) => acc + +item.lineTotal,\n          0\n        )\n        return (\n          +value === expected ||\n          `documentSumBeforeDiscount should be ${expected} (accumulation of the doc's items lineTotal) but got ${value}`\n        )\n      },\n    },\n    {\n      fieldId: 1220,\n      name: 'discount',\n      description: 'הנחת מסמך',\n      type: 'negative',\n      length: 15,\n      startAt: 303,\n      endAt: 317,\n      decimalPlaces: 2,\n      required: true,\n    },\n    {\n      fieldId: 1221,\n      name: 'documentSumAfterDiscountExcludingVat',\n      description: 'סכום המסמך לאחר הנחות ללא מע\"מ',\n      type: 'positive',\n      length: 15,\n      startAt: 318,\n      endAt: 332,\n      decimalPlaces: 2,\n      required: true,\n      validator: (value, item) => {\n        const beforeDiscount = +item.documentSumBeforeDiscount\n        const discount = +(item.discount ?? 0)\n        const expected = beforeDiscount - discount\n\n        return (\n          value === `${expected}` ||\n          `documentSumAfterDiscountExcludingVat (${value}) must be equal to documentSumBeforeDiscount (${beforeDiscount}) - discount (${discount}) = ${expected}`\n        )\n      },\n    },\n    {\n      fieldId: 1222,\n      name: 'vatSum',\n      description: 'סכום המע\"מ',\n      type: 'positive',\n      length: 15,\n      startAt: 333,\n      endAt: 347,\n      decimalPlaces: 2,\n      required: true,\n    },\n    {\n      fieldId: 1223,\n      name: 'documentSumIncludingVat',\n      description: 'סכום המסמך כולל מע\"מ',\n      type: 'positive',\n      length: 15,\n      startAt: 348,\n      endAt: 362,\n      decimalPlaces: 2,\n      required: true,\n      validator: (value, item) => {\n        const vatSum = +(item.vatSum ?? 0)\n        const documentSumAfterDiscountExcludingVat = +(\n          item.documentSumAfterDiscountExcludingVat ?? 0\n        )\n        const expected = documentSumAfterDiscountExcludingVat + vatSum\n\n        return (\n          value === `${expected}` ||\n          'documentSumIncludingVat must be equal to documentSumAfterDiscountExcludingVat + vatSum'\n        )\n      },\n    },\n    {\n      fieldId: 1224,\n      name: 'deductionAtSourceSum',\n      description: 'סכום הניכוי במקור',\n      type: 'positive',\n      length: 12,\n      startAt: 363,\n      endAt: 374,\n      decimalPlaces: 2,\n      required: true,\n    },\n    {\n      fieldId: 1225,\n      name: 'customerOrVendor.key',\n      description: 'מפתח הלקוח אצל המוכר או מפתח הספק אצל הקונה',\n      type: 'string',\n      length: 15,\n      startAt: 375,\n      endAt: 389,\n      required: (input, item) => {\n        return item.documentType >= 100 && item.documentType <= 710\n      },\n    },\n    {\n      fieldId: 1226,\n      name: 'matchingField',\n      description: 'שדה התאמה',\n      type: 'string',\n      length: 10,\n      startAt: 390,\n      endAt: 399,\n      required: false,\n    },\n    {\n      fieldId: 1228,\n      name: 'isCanceled',\n      description: 'מסמך מבוטל',\n      type: 'boolean', // 1\n      length: 1,\n      startAt: 400,\n      endAt: 400,\n      required: false,\n    },\n    {\n      fieldId: 1230,\n      name: 'documentDate',\n      description: 'תאריך המסמך',\n      type: 'date',\n      length: 8,\n      startAt: 401,\n      endAt: 408,\n      required: true,\n      validator: isValidDate,\n    },\n    {\n      fieldId: 1231,\n      name: 'business.branchId',\n      description: 'מזהה סניף/ענף',\n      type: 'string',\n      length: 7,\n      startAt: 409,\n      endAt: 415,\n      required: false,\n    },\n    {\n      fieldId: 1233,\n      name: 'actionCode',\n      description: 'מבצע הפעולה',\n      type: 'string',\n      length: 9,\n      startAt: 416,\n      endAt: 424,\n      required: false,\n    },\n    {\n      fieldId: 1234,\n      name: 'linkField',\n      description: 'שדה מקשר לשורה',\n      type: 'number',\n      length: 7,\n      startAt: 425,\n      endAt: 431,\n      required: true,\n    },\n    {\n      fieldId: 1235,\n      name: 'forFutureData',\n      description: 'שטח לנתונים עתידיים',\n      type: 'string',\n      length: 13,\n      startAt: 432,\n      endAt: 444,\n      required: false,\n    },\n  ],\n}\n","import { DocumentItem, HasBranches, Row } from '../types'\nimport { isValidDate } from '../utils/validators'\n\nexport const D110Schema: Row<DocumentItem> = {\n  cells: [\n    {\n      default: 'D110',\n      required: true,\n      length: 4,\n      startAt: 1,\n      endAt: 4,\n      type: 'string',\n      name: 'recordCode',\n      description: 'קוד רשומה',\n      fieldId: 1250,\n    },\n    {\n      required: true,\n      length: 9,\n      startAt: 5,\n      endAt: 13,\n      type: 'number',\n      name: 'runningNumber',\n      description: 'מס רשומה בקובץ',\n      fieldId: 1251,\n    },\n    {\n      required: true,\n      length: 9,\n      startAt: 14,\n      endAt: 22,\n      type: 'number',\n      name: 'business.taxId',\n      description: 'מס עוסק מורשה',\n      fieldId: 1252,\n    },\n    {\n      required: true,\n      length: 3,\n      startAt: 23,\n      endAt: 25,\n      type: 'number',\n      name: 'documentType',\n      description: 'סוג המסמך',\n      fieldId: 1253,\n    },\n    {\n      required: true,\n      length: 20,\n      startAt: 26,\n      endAt: 45,\n      type: 'string',\n      name: 'documentNumber',\n      description: 'מספר המסמך',\n      fieldId: 1254,\n    },\n    {\n      required: true,\n      length: 4,\n      startAt: 46,\n      endAt: 49,\n      type: 'number',\n      name: 'lineNumber',\n      description: 'מספר שורה במסמך',\n      fieldId: 1255,\n    },\n    {\n      required: false,\n      length: 3,\n      startAt: 50,\n      endAt: 52,\n      type: 'number',\n      name: 'documentTypeBase',\n      description: 'סוג מסמך בסיס',\n      fieldId: 1256,\n    },\n    {\n      required: false,\n      length: 20,\n      startAt: 53,\n      endAt: 72,\n      type: 'string',\n      name: 'documentNumberBase',\n      description: 'מספר מסמך בסיס',\n      fieldId: 1257,\n    },\n    {\n      required: true,\n      length: 1,\n      startAt: 73,\n      endAt: 73,\n      type: 'number',\n      name: 'transactionType',\n      description: 'סוג עסקה',\n      fieldId: 1258,\n    },\n    {\n      required: false,\n      length: 20,\n      startAt: 74,\n      endAt: 93,\n      type: 'string',\n      name: 'catalogId',\n      description: 'מק\"ט פנימי',\n      fieldId: 1259,\n    },\n    {\n      required: true,\n      length: 30,\n      startAt: 94,\n      endAt: 123,\n      type: 'string',\n      name: 'description',\n      description: 'תיאור הטובין שנמכר או\\nהשירות שניתן',\n      fieldId: 1260,\n    },\n    {\n      required: false,\n      length: 50,\n      startAt: 124,\n      endAt: 173,\n      type: 'string',\n      name: 'manufacturerName',\n      description: 'שם היצרן',\n      fieldId: 1261,\n    },\n    {\n      required: false,\n      length: 30,\n      startAt: 174,\n      endAt: 203,\n      type: 'string',\n      name: 'manufacturerSerialNumber',\n      description: 'מספר סידורי של המוצר המוטבע על המוצר על ידי\\nהיצרן',\n      fieldId: 1262,\n    },\n    {\n      default: 'יחידה',\n      required: false,\n      length: 20,\n      startAt: 204,\n      endAt: 223,\n      type: 'string',\n      name: 'unitOfMeasure',\n      description: 'תיאור יחידת המידה',\n      fieldId: 1263,\n    },\n    {\n      required: true,\n      length: 17,\n      startAt: 224,\n      endAt: 240,\n      decimalPlaces: 4,\n      type: 'positive',\n      name: 'quantity',\n      description: 'הכמות',\n      fieldId: 1264,\n    },\n    {\n      required: true,\n      length: 15,\n      startAt: 241,\n      endAt: 255,\n      decimalPlaces: 2,\n      type: 'positive',\n      name: 'unitPriceExcludingVAT',\n      description: 'מחיר ליחידה ללא מע\"מ',\n      fieldId: 1265,\n    },\n    {\n      default: '0',\n      required: false,\n      length: 15,\n      startAt: 256,\n      endAt: 270,\n      decimalPlaces: 2,\n      type: 'negative',\n      name: 'lineDiscount',\n      description: 'הנחת שורה',\n      fieldId: 1266,\n      validator: (value, item) => {\n        const { quantity, unitPriceExcludingVAT } = item\n        const expected = +quantity * +unitPriceExcludingVAT\n\n        return (\n          +(value ?? 0) < expected ||\n          `[1266:lineDiscount] lineDiscount can't be bigger than ${expected}. Got ${value}`\n        )\n      },\n    },\n    {\n      required: true,\n      length: 15,\n      startAt: 271,\n      endAt: 285,\n      decimalPlaces: 2,\n      type: 'positive',\n      name: 'lineTotal',\n      description: 'סך סכום לשורה',\n      fieldId: 1267,\n      validator: (value, item) => {\n        const { quantity, unitPriceExcludingVAT, lineDiscount } = item\n\n        const expected =\n          +quantity * +unitPriceExcludingVAT - +(lineDiscount ?? 0)\n\n        return (\n          value === `${expected}` ||\n          `[1267:lineTotal] Expected ${expected}. Got ${value}`\n        )\n      },\n    },\n    {\n      required: true,\n      length: 4,\n      startAt: 286,\n      endAt: 289,\n      decimalPlaces: 2,\n      type: 'number',\n      name: 'lineVATRate',\n      description: 'שיעור המע\"מ בשורה',\n      fieldId: 1268,\n    },\n    {\n      required: (input) => input.business.hasBranches === HasBranches.YES,\n      length: 7,\n      startAt: 290,\n      endAt: 296,\n      type: 'string',\n      name: 'business.branchId',\n      description: 'מזהה סניף/ענף',\n      fieldId: 1270,\n    },\n    {\n      required: true,\n      length: 8,\n      startAt: 297,\n      endAt: 304,\n      type: 'date',\n      name: 'documentDate',\n      description: 'תאריך המסמך',\n      fieldId: 1272,\n      validator: isValidDate,\n    },\n    {\n      required: true,\n      length: 7,\n      startAt: 305,\n      endAt: 311,\n      type: 'number',\n      name: 'linkField',\n      description: 'שדה מקשר לכותרת',\n      fieldId: 1273,\n    },\n    {\n      required: (input) => input.business.hasBranches === HasBranches.YES,\n      length: 7,\n      startAt: 312,\n      endAt: 318,\n      type: 'string',\n      name: 'business.branchId',\n      description: 'מזהה סניף/ענף למסמך\\nבסיס',\n      fieldId: 1274,\n    },\n    {\n      required: false,\n      length: 21,\n      startAt: 319,\n      endAt: 339,\n      type: 'string',\n      name: 'forFutureData',\n      description: 'שטח לנתונים עתידיים',\n      fieldId: 1275,\n    },\n  ],\n}\n","import { DocumentPayment, HasBranches, PaymentMethod, Row } from '../types'\nimport { isOptionalValidDate, isValidDate } from '../utils/validators'\n\nconst requiredWhen = (fieldId: number, fieldName: string, when: string) => {\n  return `[${fieldId}:${fieldName}] is required when ${when}`\n}\nconst requiredWhenCheck = (fieldId: number, fieldName: string) => {\n  return requiredWhen(\n    fieldId,\n    fieldName,\n    'paymentMethod is PaymentMethod.CHECK'\n  )\n}\n\nconst requiredWhenCreditCard = (fieldId: number, fieldName: string) => {\n  return requiredWhen(\n    fieldId,\n    fieldName,\n    'paymentMethod is PaymentMethod.CREDIT_CARD'\n  )\n}\n\nconst requiredWhenCheckOrCreditCard = (fieldId: number, fieldName: string) => {\n  return requiredWhen(\n    fieldId,\n    fieldName,\n    'paymentMethod is PaymentMethod.CHECK or PaymentMethod.CREDIT_CARD'\n  )\n}\n\nexport const D120Schema: Row<DocumentPayment> = {\n  cells: [\n    {\n      default: 'D120',\n      required: true,\n      length: 4,\n      startAt: 1,\n      endAt: 4,\n      type: 'string',\n      name: 'recordCode',\n      description: 'קוד רשומה',\n      fieldId: 1300,\n    },\n    {\n      required: true,\n      length: 9,\n      startAt: 5,\n      endAt: 13,\n      type: 'number',\n      name: 'runningNumber',\n      description: 'מס רשומה בקובץ',\n      fieldId: 1301,\n    },\n    {\n      required: true,\n      length: 9,\n      startAt: 14,\n      endAt: 22,\n      type: 'number',\n      name: 'business.taxId',\n      description: 'מס עוסק מורשה',\n      fieldId: 1302,\n    },\n    {\n      required: true,\n      length: 3,\n      startAt: 23,\n      endAt: 25,\n      type: 'number',\n      name: 'documentType',\n      description: 'סוג מסמך',\n      fieldId: 1303,\n    },\n    {\n      required: true,\n      length: 20,\n      startAt: 26,\n      endAt: 45,\n      type: 'string',\n      name: 'documentNumber',\n      description: 'מספר מסמך',\n      fieldId: 1304,\n    },\n    {\n      required: true,\n      length: 4,\n      startAt: 46,\n      endAt: 49,\n      type: 'number',\n      name: 'lineNumber',\n      description: 'מספר שורה במסמך',\n      fieldId: 1305,\n    },\n    {\n      required: true,\n      length: 1,\n      startAt: 50,\n      endAt: 50,\n      type: 'number',\n      name: 'paymentMethod',\n      description: 'סוג אמצעי התשלום',\n      fieldId: 1306,\n    },\n    {\n      required: (input, item) =>\n        item.paymentMethod === PaymentMethod.CHECK\n          ? requiredWhenCheck(1307, 'bankId')\n          : false,\n      length: 10,\n      startAt: 51,\n      endAt: 60,\n      type: 'number',\n      name: 'bankId',\n      description: 'מספר הבנק',\n      fieldId: 1307,\n    },\n    {\n      required: (input, item) =>\n        item.paymentMethod === PaymentMethod.CHECK\n          ? requiredWhenCheck(1308, 'branchId')\n          : false,\n      length: 10,\n      startAt: 61,\n      endAt: 70,\n      type: 'number',\n      name: 'branchId',\n      description: 'מספר הסניף',\n      fieldId: 1308,\n    },\n    {\n      required: (input, item) =>\n        item.paymentMethod === PaymentMethod.CHECK\n          ? requiredWhenCheck(1309, 'accountNumber')\n          : false,\n      length: 15,\n      startAt: 71,\n      endAt: 85,\n      type: 'number',\n      name: 'accountNumber',\n      description: 'מספר חשבון',\n      fieldId: 1309,\n    },\n    {\n      required: (input, item) =>\n        item.paymentMethod === PaymentMethod.CHECK\n          ? requiredWhenCheck(1310, 'checkNumber')\n          : false,\n      length: 10,\n      startAt: 86,\n      endAt: 95,\n      type: 'number',\n      name: 'checkNumber',\n      description: 'מספר המחאה',\n      fieldId: 1310,\n    },\n    {\n      required: (input, item) =>\n        item.paymentMethod === PaymentMethod.CHECK ||\n        item.paymentMethod === PaymentMethod.CREDIT_CARD\n          ? requiredWhenCheckOrCreditCard(1311, 'paymentDueDate')\n          : false,\n      length: 8,\n      startAt: 96,\n      endAt: 103,\n      type: 'date',\n      name: 'paymentDueDate',\n      description: 'תאריך הפירעון של ההמחאה /\\nהתשלום',\n      fieldId: 1311,\n      validator: isOptionalValidDate,\n    },\n    {\n      required: true,\n      length: 15,\n      startAt: 104,\n      endAt: 118,\n      decimalPlaces: 2,\n      type: 'positive',\n      name: 'amount',\n      description: 'סכום השורה',\n      fieldId: 1312,\n    },\n    {\n      required: (input, item) =>\n        item.paymentMethod === PaymentMethod.CREDIT_CARD\n          ? requiredWhenCreditCard(1313, 'creditCardCompany')\n          : false,\n      length: 1,\n      startAt: 119,\n      endAt: 119,\n      type: 'number',\n      name: 'creditCardCompany',\n      description: 'קוד החברה הסולקת',\n      fieldId: 1313,\n    },\n    {\n      required: (input, item) =>\n        item.paymentMethod === PaymentMethod.CREDIT_CARD\n          ? requiredWhenCreditCard(1314, 'creditCardName')\n          : false,\n      length: 20,\n      startAt: 120,\n      endAt: 139,\n      type: 'string',\n      name: 'creditCardName',\n      description: 'שם הכרטיס הנסלק',\n      fieldId: 1314,\n    },\n    {\n      required: (input, item) =>\n        item.paymentMethod === PaymentMethod.CREDIT_CARD\n          ? requiredWhenCreditCard(1315, 'creditCardTransactionType')\n          : false,\n      length: 1,\n      startAt: 140,\n      endAt: 140,\n      type: 'number',\n      name: 'creditCardTransactionType',\n      description: 'סוג עסקת האשראי',\n      fieldId: 1315,\n    },\n    {\n      required: (input) => input.business.hasBranches === HasBranches.YES,\n      length: 7,\n      startAt: 141,\n      endAt: 147,\n      type: 'string',\n      name: 'business.branchId',\n      description: 'מזהה סניף/ענף',\n      fieldId: 1320,\n    },\n    {\n      required: true,\n      length: 8,\n      startAt: 148,\n      endAt: 155,\n      type: 'date',\n      name: 'documentDate',\n      description: 'תאריך המסמך',\n      fieldId: 1322,\n      validator: isValidDate,\n    },\n    {\n      required: true,\n      length: 7,\n      startAt: 156,\n      endAt: 162,\n      type: 'number',\n      name: 'linkField',\n      description: 'שדה מקשר לכותרת',\n      fieldId: 1323,\n    },\n    {\n      required: false,\n      length: 60,\n      startAt: 163,\n      endAt: 222,\n      type: 'string',\n      name: 'forFutureData',\n      description: 'שטח לנתונים עתידיים',\n      fieldId: 1324,\n    },\n  ],\n}\n","import { HasBranches, Row } from '../types'\nimport { isValidCurrencyCode, isValidDate } from '../utils/validators'\n\nexport const B100Schema: Row = {\n  cells: [\n    {\n      default: 'B100',\n      required: true,\n      length: 4,\n      startAt: 1,\n      endAt: 4,\n      type: 'string',\n      name: 'recordCode',\n      description: 'קוד רשומה',\n      fieldId: 1350,\n    },\n    {\n      required: true,\n      length: 9,\n      startAt: 5,\n      endAt: 13,\n      type: 'number',\n      name: 'runningNumber',\n      description: 'מס רשומה בקובץ',\n      fieldId: 1351,\n    },\n    {\n      required: true,\n      length: 9,\n      startAt: 14,\n      endAt: 22,\n      type: 'number',\n      name: 'business.taxId',\n      description: 'מס עוסק מורשה',\n      fieldId: 1352,\n    },\n    {\n      required: true,\n      length: 10,\n      startAt: 23,\n      endAt: 32,\n      type: 'number',\n      name: 'transactionNumber',\n      description: 'מספר תנועה',\n      fieldId: 1353,\n    },\n    {\n      required: true,\n      length: 5,\n      startAt: 33,\n      endAt: 37,\n      type: 'number',\n      name: 'transactionLineNumber',\n      description: 'מספר שורה בתנועה',\n      fieldId: 1354,\n    },\n    {\n      required: false,\n      length: 8,\n      startAt: 38,\n      endAt: 45,\n      type: 'number',\n      name: 'dish',\n      description: 'מנה',\n      fieldId: 1355,\n    },\n    {\n      required: false,\n      length: 15,\n      startAt: 46,\n      endAt: 60,\n      type: 'string',\n      name: 'transactionType',\n      description: 'סוג תנועה',\n      fieldId: 1356,\n    },\n    {\n      required: false,\n      length: 20,\n      startAt: 61,\n      endAt: 80,\n      type: 'string',\n      name: 'reference',\n      description: 'אסמכתא',\n      fieldId: 1357,\n    },\n    {\n      required: false,\n      length: 3,\n      startAt: 81,\n      endAt: 83,\n      type: 'number',\n      name: 'referenceDocumentType',\n      description: 'סוג מסמך האסמכתא',\n      fieldId: 1358,\n    },\n    {\n      required: false,\n      length: 20,\n      startAt: 84,\n      endAt: 103,\n      type: 'string',\n      name: 'reference2',\n      description: 'אסמכתא 2',\n      fieldId: 1359,\n    },\n    {\n      required: false,\n      length: 3,\n      startAt: 104,\n      endAt: 106,\n      type: 'number',\n      name: 'reference2DocumentType',\n      description: 'סוג מסמך האסמכתא\\n2',\n      fieldId: 1360,\n    },\n    {\n      required: false,\n      length: 50,\n      startAt: 107,\n      endAt: 156,\n      type: 'string',\n      name: 'details',\n      description: 'פרטים',\n      fieldId: 1361,\n    },\n    {\n      required: true,\n      length: 8,\n      startAt: 157,\n      endAt: 164,\n      type: 'date',\n      name: 'date',\n      description: 'תאריך',\n      fieldId: 1362,\n      validator: isValidDate,\n    },\n    {\n      required: true,\n      length: 8,\n      startAt: 165,\n      endAt: 172,\n      type: 'date',\n      name: 'valueDate',\n      description: 'תאריך ערך',\n      fieldId: 1363,\n      validator: isValidDate,\n    },\n    {\n      required: false,\n      length: 15,\n      startAt: 173,\n      endAt: 187,\n      type: 'string',\n      name: 'accountKey',\n      description: 'חשבון בתנועה',\n      fieldId: 1364,\n    },\n    {\n      required: false,\n      length: 15,\n      startAt: 188,\n      endAt: 202,\n      type: 'string',\n      name: 'contraAccountKey',\n      description: 'חשבון נגדי',\n      fieldId: 1365,\n    },\n    {\n      required: true,\n      length: 1,\n      startAt: 203,\n      endAt: 203,\n      type: 'number',\n      name: 'actionType',\n      description: 'סימן הפעולה',\n      fieldId: 1366,\n    },\n    {\n      required: true,\n      length: 3,\n      startAt: 204,\n      endAt: 206,\n      type: 'string',\n      name: 'currencyCode',\n      description: 'קוד מטבע מטח',\n      fieldId: 1367,\n      validator: isValidCurrencyCode,\n    },\n    {\n      default: '0',\n      required: false,\n      length: 15,\n      startAt: 207,\n      endAt: 221,\n      decimalPlaces: 2,\n      type: 'positive',\n      name: 'amount',\n      description: 'סכום הפעולה',\n      fieldId: 1368,\n    },\n    {\n      default: '0',\n      required: false,\n      length: 15,\n      startAt: 222,\n      endAt: 236,\n      decimalPlaces: 2,\n      type: 'positive',\n      name: 'foreignCurrencyAmount',\n      description: 'סכום מטח',\n      fieldId: 1369,\n    },\n    {\n      required: false,\n      length: 12,\n      startAt: 237,\n      endAt: 248,\n      decimalPlaces: 2,\n      type: 'string',\n      name: 'quantity',\n      description: 'שדה כמות',\n      fieldId: 1370,\n    },\n    {\n      required: false,\n      length: 10,\n      startAt: 249,\n      endAt: 258,\n      type: 'string',\n      name: 'matchField1',\n      description: 'שדה התאמה 1',\n      fieldId: 1371,\n    },\n    {\n      required: false,\n      length: 10,\n      startAt: 259,\n      endAt: 268,\n      type: 'string',\n      name: 'matchField2',\n      description: 'שדה התאמה 2',\n      fieldId: 1372,\n    },\n    {\n      required: (input) => input.business.hasBranches === HasBranches.YES,\n      length: 7,\n      startAt: 269,\n      endAt: 275,\n      type: 'string',\n      name: 'business.branchId',\n      description: 'מזהה סניף/ענף',\n      fieldId: 1374,\n    },\n    {\n      required: true,\n      length: 8,\n      startAt: 276,\n      endAt: 283,\n      type: 'date',\n      name: 'entryDate',\n      description: 'תאריך הזנה',\n      fieldId: 1375,\n      validator: isValidDate,\n    },\n    {\n      required: false,\n      length: 9,\n      startAt: 284,\n      endAt: 292,\n      type: 'string',\n      name: 'userWhoMadeTheAction',\n      description: 'מבצע פעולה',\n      fieldId: 1376,\n    },\n    {\n      required: false,\n      length: 25,\n      startAt: 293,\n      endAt: 317,\n      type: 'string',\n      name: 'forFutureData',\n      description: 'שטח לנתונים עתידיים',\n      fieldId: 1377,\n    },\n  ],\n}\n","import { HasBranches, Row, SoftwareAccountingType } from '../types'\nimport { isOptionalValidCurrencyCode } from '../utils/validators'\n\nexport const B110Schema: Row = {\n  cells: [\n    {\n      default: 'B110',\n      required: true,\n      length: 4,\n      startAt: 1,\n      endAt: 4,\n      type: 'string',\n      name: 'recordCode',\n      description: 'קוד רשומה',\n      fieldId: 1400,\n    },\n    {\n      required: true,\n      length: 9,\n      startAt: 5,\n      endAt: 13,\n      type: 'number',\n      name: 'runningNumber',\n      description: 'מס רשומה בקובץ',\n      fieldId: 1401,\n    },\n    {\n      required: true,\n      length: 9,\n      startAt: 14,\n      endAt: 22,\n      type: 'number',\n      name: 'business.taxId',\n      description: 'מס עוסק מורשה',\n      fieldId: 1402,\n    },\n    {\n      required: true,\n      length: 15,\n      startAt: 23,\n      endAt: 37,\n      type: 'string',\n      name: 'accountKey',\n      description: 'מפתח החשבון',\n      fieldId: 1403,\n    },\n    {\n      required: true,\n      length: 50,\n      startAt: 38,\n      endAt: 87,\n      type: 'string',\n      name: 'accountName',\n      description: 'שם החשבון',\n      fieldId: 1404,\n    },\n    {\n      required: true,\n      length: 15,\n      startAt: 88,\n      endAt: 102,\n      type: 'string',\n      name: 'accountBalanceCode',\n      description: 'קוד מאזן בוחן',\n      fieldId: 1405,\n    },\n    {\n      required: true,\n      length: 30,\n      startAt: 103,\n      endAt: 132,\n      type: 'string',\n      name: 'accountBalanceCodeDescription',\n      description: 'תיאור קוד מאזן בוחן',\n      fieldId: 1406,\n    },\n    {\n      required: false,\n      length: 50,\n      startAt: 133,\n      endAt: 182,\n      type: 'string',\n      name: 'address.street',\n      description: 'מען הלקוח/ספק - רחוב',\n      fieldId: 1407,\n    },\n    {\n      required: false,\n      length: 10,\n      startAt: 183,\n      endAt: 192,\n      type: 'string',\n      name: 'address.houseNumber',\n      description: 'מען הלקוח/ספק - מספר בית',\n      fieldId: 1408,\n    },\n    {\n      required: false,\n      length: 30,\n      startAt: 193,\n      endAt: 222,\n      type: 'string',\n      name: 'address.city',\n      description: 'מען הלקוח/ספק - עיר',\n      fieldId: 1409,\n    },\n    {\n      required: false,\n      length: 8,\n      startAt: 223,\n      endAt: 230,\n      type: 'string',\n      name: 'address.zipCode',\n      description: 'מען הלקוח/ספק - מיקוד',\n      fieldId: 1410,\n    },\n    {\n      required: false,\n      length: 30,\n      startAt: 231,\n      endAt: 260,\n      type: 'string',\n      name: 'address.country',\n      description: 'מען הלקוח/ספק - מדינה',\n      fieldId: 1411,\n    },\n    {\n      required: false,\n      length: 2,\n      startAt: 261,\n      endAt: 262,\n      type: 'string',\n      name: 'address.countryCode',\n      description: 'קוד מדינה',\n      fieldId: 1412,\n    },\n    {\n      required: false,\n      length: 15,\n      startAt: 263,\n      endAt: 277,\n      type: 'string',\n      name: 'centerAccount',\n      description: 'חשבון מרכז',\n      fieldId: 1413,\n    },\n    {\n      required: true,\n      length: 15,\n      startAt: 278,\n      endAt: 292,\n      decimalPlaces: 2,\n      type: 'positive',\n      name: 'openingBalance',\n      description: 'יתרת החשבון בתחילת החתך',\n      fieldId: 1414,\n    },\n    {\n      required: true,\n      length: 15,\n      startAt: 293,\n      endAt: 307,\n      decimalPlaces: 2,\n      type: 'positive',\n      name: 'totalDebit',\n      description: 'סה\"כ חובה',\n      fieldId: 1415,\n    },\n    {\n      required: true,\n      length: 15,\n      startAt: 308,\n      endAt: 322,\n      decimalPlaces: 2,\n      type: 'positive',\n      name: 'totalCredit',\n      description: 'סה\"כ זכות',\n      fieldId: 1416,\n    },\n    {\n      required: false,\n      length: 4,\n      startAt: 323,\n      endAt: 326,\n      type: 'number',\n      name: 'govClassificationCode',\n      description: 'קוד בסיווג החשבונאי',\n      fieldId: 1417,\n    },\n    {\n      required: (input) =>\n        input.software.accountingType === SoftwareAccountingType.doubleEntry,\n      length: 9,\n      startAt: 327,\n      endAt: 335,\n      type: 'number',\n      name: 'customerOrVendorTaxId',\n      description: 'מספר עוסק של ספק/לקוח',\n      fieldId: 1419,\n    },\n    {\n      required: (input) => input.business.hasBranches === HasBranches.YES,\n      length: 7,\n      startAt: 336,\n      endAt: 342,\n      type: 'string',\n      name: 'business.branchId',\n      description: 'מזהה סניף/ענף',\n      fieldId: 1421,\n    },\n    {\n      required: false,\n      length: 15,\n      startAt: 343,\n      endAt: 357,\n      decimalPlaces: 2,\n      type: 'positive',\n      name: 'openingBalanceInForeignCurrency',\n      description: 'יתרת חשבון בתחילת חתך\\nבמט\"ח',\n      fieldId: 1422,\n    },\n    {\n      required: false,\n      length: 3,\n      startAt: 358,\n      endAt: 360,\n      type: 'string',\n      name: 'currencyCode',\n      description: 'קוד מטבע יתרת החשבון בתחילת חתך במט\"ח',\n      fieldId: 1423,\n      validator: isOptionalValidCurrencyCode,\n    },\n    {\n      required: false,\n      length: 16,\n      startAt: 361,\n      endAt: 376,\n      type: 'string',\n      name: 'forFutureData',\n      description: 'שטח לנתונים עתידיים',\n      fieldId: 1424,\n    },\n  ],\n}\n","import { Row } from '../types'\n\nexport const M100Schema: Row = {\n  cells: [\n    {\n      default: 'M100',\n      required: true,\n      length: 4,\n      startAt: 1,\n      endAt: 4,\n      type: 'string',\n      name: 'recordType',\n      description: 'קוד רשומה',\n      fieldId: 1450,\n    },\n    {\n      required: true,\n      length: 9,\n      startAt: 5,\n      endAt: 13,\n      type: 'number',\n      name: 'runningNumber',\n      description: 'מס רשומה בקובץ',\n      fieldId: 1451,\n    },\n    {\n      required: true,\n      length: 9,\n      startAt: 14,\n      endAt: 22,\n      type: 'number',\n      name: 'business.taxId',\n      description: 'מס עוסק מורשה',\n      fieldId: 1452,\n    },\n    {\n      required: false,\n      length: 20,\n      startAt: 23,\n      endAt: 42,\n      type: 'string',\n      name: 'universalItemCode',\n      description: 'מק\"ט פריט אוניברסלי',\n      fieldId: 1453,\n    },\n    {\n      required: false,\n      length: 20,\n      startAt: 43,\n      endAt: 62,\n      type: 'string',\n      name: 'supplierItemCode',\n      description: 'מק\"ט הספק/יצרן ) במסמכי רכש (',\n      fieldId: 1454,\n    },\n    {\n      required: true,\n      length: 20,\n      startAt: 63,\n      endAt: 82,\n      type: 'string',\n      name: 'internalItemCode',\n      description: 'מק\"ט פנימי',\n      fieldId: 1455,\n    },\n    {\n      required: true,\n      length: 50,\n      startAt: 83,\n      endAt: 132,\n      type: 'string',\n      name: 'itemName',\n      description: 'שם פריט',\n      fieldId: 1456,\n    },\n    {\n      required: false,\n      length: 10,\n      startAt: 133,\n      endAt: 142,\n      type: 'string',\n      name: 'sortingCode',\n      description: 'קוד מיון',\n      fieldId: 1457,\n    },\n    {\n      required: false,\n      length: 30,\n      startAt: 143,\n      endAt: 172,\n      type: 'string',\n      name: 'sortingCodeDescription',\n      description: 'תיאור קוד מיון',\n      fieldId: 1458,\n    },\n    {\n      default: 'יחידה',\n      required: true,\n      length: 20,\n      startAt: 173,\n      endAt: 192,\n      type: 'string',\n      name: 'unitOfMeasure',\n      description: 'תיאור יחידת מידה',\n      fieldId: 1459,\n    },\n    {\n      required: true,\n      length: 12,\n      startAt: 193,\n      endAt: 204,\n      decimalPlaces: 2,\n      type: 'string',\n      name: 'openingBalance',\n      description: 'יתרת הפריט לתחילת\\nהחתך',\n      fieldId: 1460,\n    },\n    {\n      required: true,\n      length: 12,\n      startAt: 205,\n      endAt: 216,\n      decimalPlaces: 2,\n      type: 'positive',\n      name: 'totalEntries',\n      description: 'סך הכל כניסות',\n      fieldId: 1461,\n    },\n    {\n      required: true,\n      length: 12,\n      startAt: 217,\n      endAt: 228,\n      decimalPlaces: 2,\n      type: 'positive',\n      name: 'totalOutputs',\n      description: 'סך הכל יציאות',\n      fieldId: 1462,\n    },\n    {\n      required: false,\n      length: 10,\n      startAt: 229,\n      endAt: 238,\n      decimalPlaces: 2,\n      type: 'number',\n      name: 'costPriceOutside',\n      description: 'מחיר עלות במלאי לסוף תקופת החתך מחוץ למחסני ערובה',\n      fieldId: 1463,\n    },\n    {\n      required: false,\n      length: 10,\n      startAt: 239,\n      endAt: 248,\n      decimalPlaces: 2,\n      type: 'number',\n      name: 'costPrice',\n      description: 'מחיר עלות במלאי לסוף תקופת החתך במחסני\\nערובה',\n      fieldId: 1464,\n    },\n    {\n      required: false,\n      length: 50,\n      startAt: 249,\n      endAt: 298,\n      type: 'string',\n      name: 'forFutureData',\n      description: 'שטח לנתונים עתידיים',\n      fieldId: 1465,\n    },\n  ],\n}\n","import {\n  BKMVDATASchema,\n  Cell,\n  DocumentPayment,\n  DocumentRecord,\n  HasBranches,\n  PaymentMethod,\n  Row,\n  SoftwareAccountingType,\n} from '../types'\nimport { C100Schema } from './C100Schema'\nimport { D110Schema } from './D110Schema'\nimport { D120Schema } from './D120Schema'\nimport { B100Schema } from './B100Schema'\nimport { B110Schema } from './B110Schema'\nimport { M100Schema } from './M100Schema'\n\nconst header: Row = {\n  cells: [\n    {\n      fieldId: 1100,\n      name: 'recordCode',\n      description: 'קוד רשומה',\n      type: 'string',\n      length: 4,\n      startAt: 1,\n      endAt: 4,\n      required: true,\n      default: 'A100',\n    },\n    {\n      fieldId: 1101,\n      name: 'runningNumber',\n      description: 'מס רשומה בקובץ',\n      type: 'number',\n      length: 9,\n      startAt: 5,\n      endAt: 13,\n      required: true,\n    },\n    {\n      fieldId: 1102,\n      name: 'business.taxId',\n      description: 'מספר עוסק מורשה',\n      type: 'number',\n      length: 9,\n      startAt: 14,\n      endAt: 22,\n      required: true,\n    },\n    {\n      fieldId: 1103,\n      name: 'uuid',\n      description: 'מזהה ראשי',\n      type: 'number',\n      length: 15,\n      startAt: 23,\n      endAt: 37,\n      required: true,\n    },\n    {\n      fieldId: 1104,\n      name: 'systemConstant',\n      description: 'קבוע מערכת',\n      type: 'string',\n      length: 8,\n      startAt: 38,\n      endAt: 45,\n      required: true,\n      default: '&OF1.31&',\n    },\n    {\n      fieldId: 1105,\n      name: 'forFutureData',\n      description: 'שטח לנתונים עתידיים',\n      type: 'string',\n      length: 50,\n      startAt: 46,\n      endAt: 95,\n      required: false,\n    },\n  ],\n}\nconst footer: Row = {\n  cells: [\n    {\n      fieldId: 1150,\n      name: 'recordCode',\n      description: 'קוד רשומה',\n      type: 'string',\n      length: 4,\n      startAt: 1,\n      endAt: 4,\n      required: true,\n      default: 'Z900',\n    },\n    {\n      fieldId: 1151,\n      name: 'runningNumber',\n      description: 'מס רשומה בקובץ',\n      type: 'number',\n      length: 9,\n      startAt: 5,\n      endAt: 13,\n      required: true,\n    },\n    {\n      fieldId: 1152,\n      name: 'business.taxId',\n      description: 'מספר עוסק מורשה',\n      type: 'number',\n      length: 9,\n      startAt: 14,\n      endAt: 22,\n      required: true,\n    },\n    {\n      fieldId: 1153,\n      name: 'uuid',\n      description: 'מזהה ראשי',\n      type: 'number',\n      length: 15,\n      startAt: 23,\n      endAt: 37,\n      required: true,\n    },\n    {\n      fieldId: 1154,\n      name: 'systemConstant',\n      description: 'קבוע מערכת',\n      type: 'string',\n      length: 8,\n      startAt: 38,\n      endAt: 45,\n      required: true,\n      default: '&OF1.31&',\n    },\n    {\n      fieldId: 1155,\n      name: 'totalRecords',\n      description: 'סך רשומות כולל בקובץ',\n      type: 'number',\n      length: 15,\n      startAt: 46,\n      endAt: 60,\n      required: true,\n    },\n    {\n      fieldId: 1155,\n      name: 'forFutureData',\n      description: 'שטח לנתונים עתידיים',\n      type: 'string',\n      length: 50,\n      startAt: 61,\n      endAt: 110,\n      required: false,\n    },\n  ],\n}\n\n// Create an enum in english from the documentTypes array\nexport const bkmvdataSchema: BKMVDATASchema = {\n  header,\n  footer,\n  C100: C100Schema,\n  D110: D110Schema,\n  D120: D120Schema,\n  B100: B100Schema,\n  B110: B110Schema,\n  M100: M100Schema,\n}\n","import { BaseGenerator } from './baseGenerator'\nimport {\n  BKMVDATARowsCount,\n  Cell,\n  DocumentItem,\n  DocumentPayment,\n  DocumentRecord,\n  UniformStructureInput,\n} from '../types'\nimport { getNestedValue } from '../utils/objs'\nimport { bkmvdataSchema } from '../schemas/bkmvdataSchema'\nimport { expectedDATALineLength } from '../utils/constants'\n\nexport class DataGenerator extends BaseGenerator {\n  constructor(input: UniformStructureInput, uuid: string, filePath: string) {\n    super(input, uuid, filePath)\n  }\n\n  protected validateHeader() {\n    // recordCode\n    const recordCode = 'A100'\n    const line = this.lines[0]\n    if (!line.startsWith(recordCode)) {\n      throw new Error(`BKMVDATA.txt first line should start with ${recordCode}`)\n    }\n  }\n\n  protected validateFooter() {\n    // recordCode\n    const recordCode = 'Z900'\n    const line = this.lines[this.lines.length - 1]\n    if (!line.startsWith(recordCode)) {\n      throw new Error(`BKMVDATA.txt last line should start with ${recordCode}`)\n    }\n\n    // Has the right total records number\n    const expectedTotalRows = this.lines.length\n    const totalRows = parseInt(line.slice(46, 60))\n    if (totalRows !== expectedTotalRows) {\n      throw new Error(\n        `BKMVDATA.txt last line doesn't have the valid total records. Expected ${expectedTotalRows}, actual ${totalRows}`\n      )\n    }\n  }\n\n  private validateLength(): void {\n    for (const line of this.lines) {\n      const recordCode = line.substring(0, 4)\n      const actualLength = line.length\n\n      const expectedLength = expectedDATALineLength[recordCode]\n      if (actualLength !== expectedLength) {\n        throw new Error(\n          `BKMVDATA.txt ${recordCode} line length should be ${expectedLength}. Actual ${line.length}`\n        )\n      }\n    }\n  }\n  private validateRunningNumbers(): void {\n    const existingNumbers = new Set<number>()\n\n    for (const line of this.lines) {\n      const runningNumber = parseInt(line.slice(5, 13))\n      if (existingNumbers.has(runningNumber)) {\n        throw new Error(\n          `BKMVDATA.txt has more than one '${existingNumbers}' running number`\n        )\n      }\n\n      existingNumbers.add(runningNumber)\n    }\n\n    // All numbers must be sequential\n    if (existingNumbers.size !== this.lines.length) {\n      throw new Error(`BKMVDATA.txt has skipped some running numbers`)\n    }\n  }\n\n  protected validateBeforeSave(): void {\n    // Validate first is header\n    this.validateHeader()\n\n    // Validate last is footer\n    this.validateFooter()\n\n    // Validate line length\n    this.validateLength()\n\n    // Validate running numbers\n    this.validateRunningNumbers()\n  }\n\n  public countRowsByType(): BKMVDATARowsCount {\n    // This should be called only after all rows were created\n    this.validateFooter()\n\n    return {\n      C100: this.lines.filter((value) => value.startsWith('C100')).length,\n      D110: this.lines.filter((value) => value.startsWith('D110')).length,\n      D120: this.lines.filter((value) => value.startsWith('D120')).length,\n      B100: this.lines.filter((value) => value.startsWith('B100')).length,\n      B110: this.lines.filter((value) => value.startsWith('B110')).length,\n      M100: this.lines.filter((value) => value.startsWith('M100')).length,\n    }\n  }\n\n  private createBKMVDATAHeader(): void {\n    const getValue = (cell: Cell) => {\n      return (\n        this.computedValues(cell) ??\n        getNestedValue(this.input, cell.name) ??\n        cell.default\n      )\n    }\n\n    this.createRow(bkmvdataSchema.header, getValue, undefined)\n  }\n\n  private createC100Row(document: DocumentRecord): void {\n    const getValue = (cell: Cell<DocumentRecord>) => {\n      return (\n        this.computedValues(cell) ??\n        getNestedValue(document, cell.name) ??\n        getNestedValue(this.input, cell.name) ??\n        cell.default\n      )\n    }\n\n    this.createRow<DocumentRecord>(bkmvdataSchema.C100, getValue, document)\n  }\n\n  private createD110Row(document: DocumentRecord, item: DocumentItem): void {\n    const getValue = (cell: Cell<DocumentItem>) => {\n      return (\n        this.computedValues(cell) ??\n        getNestedValue(item, cell.name) ??\n        getNestedValue(document, cell.name) ??\n        getNestedValue(this.input, cell.name) ??\n        cell.default\n      )\n    }\n\n    this.createRow<DocumentItem>(bkmvdataSchema.D110, getValue, item)\n  }\n\n  private createD120Row(document: DocumentRecord, item: DocumentPayment): void {\n    const getValue = (cell: Cell<DocumentPayment>) => {\n      return (\n        this.computedValues(cell) ??\n        getNestedValue(item, cell.name) ??\n        getNestedValue(document, cell.name) ??\n        getNestedValue(this.input, cell.name) ??\n        cell.default\n      )\n    }\n\n    this.createRow<DocumentPayment>(bkmvdataSchema.D120, getValue, item)\n  }\n\n  // private createB100Row(document: DocumentRecord, item: DocumentPayment): void {\n  //   const getValue = (cell: Cell<DocumentPayment>) => {\n  //     return (\n  //       this.computedValues(cell) ??\n  //       getNestedValue(item, cell.name) ??\n  //       getNestedValue(document, cell.name) ??\n  //       getNestedValue(this.input, cell.name) ??\n  //       cell.default\n  //     )\n  //   }\n  //\n  //   this.createRow<DocumentPayment>(bkmvdataSchema.B100, getValue, item)\n  // }\n  //\n  // private createB110Row(document: DocumentRecord, item: DocumentPayment): void {\n  //   const getValue = (cell: Cell<DocumentPayment>) => {\n  //     return (\n  //       this.computedValues(cell) ??\n  //       getNestedValue(item, cell.name) ??\n  //       getNestedValue(document, cell.name) ??\n  //       getNestedValue(this.input, cell.name) ??\n  //       cell.default\n  //     )\n  //   }\n  //\n  //   this.createRow<DocumentPayment>(bkmvdataSchema.B110, getValue, item)\n  // }\n\n  private createBKMVDATABody(): void {\n    for (const document of this.input.documents) {\n      this.createC100Row(document)\n\n      for (const item of document.items) {\n        this.createD110Row(document, item)\n      }\n\n      for (const payment of document.payments) {\n        this.createD120Row(document, payment)\n      }\n    }\n  }\n\n  private createBKMVDATAFooter() {\n    const getValue = (cell: Cell) => {\n      return (\n        this.computedValues(cell) ??\n        getNestedValue(this.input, cell.name) ??\n        cell.default\n      )\n    }\n\n    this.createRow(bkmvdataSchema.footer, getValue, undefined)\n  }\n\n  protected create() {\n    this.createBKMVDATAHeader()\n    this.createBKMVDATABody()\n    this.createBKMVDATAFooter()\n  }\n}\n"],"mappings":"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","names":["fs","key","import_types","cc","path","item","header","path"]}